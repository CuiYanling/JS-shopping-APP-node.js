(function(e){function t(t){for(var r,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],n[s]&&p.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/admin/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"22cc":function(e,t,a){},2619:function(e,t,a){},2851:function(e,t,a){},"2a56":function(e,t,a){},"2fd1":function(e,t,a){"use strict";var r=a("2619"),n=a.n(r);n.a},"49ef":function(e,t,a){"use strict";var r=a("976b"),n=a.n(r);n.a},"4b76":function(e,t,a){"use strict";var r=a("73e9"),n=a.n(r);n.a},5202:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},o=[],s={},i=s,l=(a("5c0b"),a("2877")),c=Object(l["a"])(i,n,o,!1,null,null,null),u=c.exports,d=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg"},[a("div",{staticClass:"form-box"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"title"},[e._v("欢迎登陆")]),a("div",{staticClass:"body"},[a("div",{staticClass:"form-control",class:{error:!e.valid[0]}},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],staticClass:"input-control",attrs:{type:"text",placeholder:"请输入账户名"},domProps:{value:e.formData.username},on:{blur:e.checkUsername,input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}})]),a("div",{staticClass:"form-control",class:{error:!e.valid[1]}},[e._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],staticClass:"input-control",attrs:{type:"password",pattern:"[1-9]\\d{6,}",placeholder:"请输入密码"},domProps:{value:e.formData.password},on:{blur:e.checkPassword,input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}})]),a("div",{staticClass:"form-control"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.regHandle(t)}}},[e._v("登 录")])]),a("div",{staticClass:"link-box"},[a("router-link",{attrs:{to:"/register"}},[e._v("注册账户")]),a("router-link",{attrs:{to:"/register"}},[e._v("忘记密码？")])],1)])])])])},m=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-lock"})])}],f=(a("8e6e"),a("ac6a"),a("456d"),a("bd86"));function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach(function(t){Object(f["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var v={props:["redirect"],data:function(){return{formData:{username:"",password:""},valid:[!0,!0]}},methods:{checkUsername:function(){var e=/[A-Za-z0-9_-]{5,}/,t=e.test(this.formData.username);return this.$set(this.valid,0,t),t},checkPassword:function(){var e=/\d{6,}/,t=e.test(this.formData.password);return this.$set(this.valid,1,t),t},regHandle:function(){var e=this,t=this.checkUsername()&&this.checkPassword();t&&this.$store.dispatch("User/Login",b({},this.formData)).then(function(t){sessionStorage.token=t.data.token,sessionStorage.role=t.data.role,e.$message({message:t.msg,type:"success",duration:1e3,onClose:function(){e.redirect?e.$router.push(e.redirect):e.$router.push("/goods")}})}).catch(function(t){e.$message.error(t.msg)})}}},g=v,_=(a("8d22"),Object(l["a"])(g,p,m,!1,null,"6a4a1283",null)),w=_.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg"},[a("div",{staticClass:"form-box"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"title"},[e._v("注册新账户")]),a("div",{staticClass:"body"},[a("div",{staticClass:"form-control"},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],staticClass:"input-control",attrs:{type:"text",placeholder:"请输入账户名"},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}})]),a("div",{staticClass:"form-control"},[e._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],staticClass:"input-control",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}})]),a("div",{staticClass:"form-control"},[e._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.nickname,expression:"formData.nickname"}],staticClass:"input-control",attrs:{type:"text",placeholder:"请输入昵称"},domProps:{value:e.formData.nickname},on:{input:function(t){t.target.composing||e.$set(e.formData,"nickname",t.target.value)}}})]),a("div",{staticClass:"form-control"},[e._m(3),a("div",{staticClass:"sex-box"},[a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.sex,expression:"formData.sex"}],attrs:{checked:"",name:"sex",value:"男",id:"man",type:"radio"},domProps:{checked:e._q(e.formData.sex,"男")},on:{change:function(t){return e.$set(e.formData,"sex","男")}}}),a("i",{staticClass:"fa fa-mars"}),e._v("\n\t\t\t\t\t\t\t男\n\t\t\t\t\t\t")]),a("label",{attrs:{for:"woman"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.sex,expression:"formData.sex"}],attrs:{id:"woman",name:"sex",value:"女",type:"radio"},domProps:{checked:e._q(e.formData.sex,"女")},on:{change:function(t){return e.$set(e.formData,"sex","女")}}}),a("i",{staticClass:"fa fa-venus"}),e._v("\n\t\t\t\t\t\t\t女\n\t\t\t\t\t\t")])])]),a("div",{staticClass:"form-control"},[e._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.tel,expression:"formData.tel"}],staticClass:"input-control",attrs:{type:"number",placeholder:"请输入手机号码"},domProps:{value:e.formData.tel},on:{input:function(t){t.target.composing||e.$set(e.formData,"tel",t.target.value)}}})]),a("div",{staticClass:"form-control"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.regHandle}},[e._v("注 册")])]),a("div",{staticClass:"link-box"},[a("router-link",{attrs:{to:"/login"}},[e._v("密码登录")]),a("router-link",{attrs:{to:"/register"}},[e._v("忘记密码？")])],1)])])])])},x=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-lock"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-tag"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-venus-mars"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-mobile"})])}];function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach(function(t){Object(f["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var C={data:function(){return{formData:{username:"",password:"",nickname:"",sex:"",tel:""}}},methods:{regHandle:function(){var e=this;this.$store.dispatch("User/Register",O({},this.formData)).then(function(t){sessionStorage.token=t.data.token,sessionStorage.role=t.data.role,e.$message({message:t.msg,type:"success",duration:1e3,onClose:function(){e.$router.push("/index")}})}).catch(function(t){e.$message.error(t.msg)})}}},j=C,$=(a("9a6a"),Object(l["a"])(j,y,x,!1,null,"79b29018",null)),P=$.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Title",{attrs:{text:"客户列表"}}),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"uid",label:"#"}}),a("el-table-column",{attrs:{sortable:"",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"avatar",attrs:{src:e.row.avatar,width:"60",alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"username",sortable:"",label:"账号"}}),a("el-table-column",{attrs:{prop:"nickname",sortable:"",label:"昵称"}}),a("el-table-column",{attrs:{prop:"sex",sortable:"",label:"性别",width:"120"}}),a("el-table-column",{attrs:{prop:"tel",sortable:"",label:"手机号码"}}),a("el-table-column",{attrs:{prop:"role_name",sortable:"",label:"权限"}}),a("el-table-column",{attrs:{prop:"login_time",width:"160",sortable:"",label:"上次登录"}}),a("el-table-column",{attrs:{prop:"login_count",sortable:"",label:"登录次数"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",icon:"el-icon-edit",size:"small",type:"primary"},on:{click:function(a){return e.showEditModal(t.row)}}}),a("el-button",{attrs:{icon:"el-icon-delete",plain:"",size:"small",type:"danger"},on:{click:function(a){return e.showDeleteModal(t.row.id)}}})]}}])})],1),a("el-dialog",{attrs:{title:"修改信息",visible:e.editModalShow},on:{"update:visible":function(t){e.editModalShow=t}}},[a("el-form",{attrs:{model:e.form,"label-position":"left"}},[a("el-form-item",{attrs:{label:"昵称","label-width":"100px"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),a("el-form-item",{attrs:{label:"性别","label-width":"100px"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:"手机","label-width":"100px"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",e._n(t))},expression:"form.tel"}})],1),a("el-form-item",{attrs:{label:"权限","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择账户"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},e._l(e.roles,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"头像","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload/avatar/",headers:e.headers,"show-file-list":!1,"on-success":e.editUploadSuccess,"before-upload":e.beforeUpload}},[a("div",{staticClass:"el-upload"},[e.form.avatar?a("img",{staticClass:"avatar",attrs:{src:e.form.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editModalShow=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateInfo}},[e._v("确 定")])],1)],1)],1)},D=[],S=(a("96cf"),a("3b8d")),R=a("bc3a"),E=a.n(R),F=function(e){return E.a.post("/api/admin/login",e)},I=function(e){return E.a.post("/api/admin/register",e)},U=function(e){return E.a.get("/api/admin",{params:e})},N=function(e){return E.a.get("/api/admin/list",{params:e})},A=function(e){return E.a.put("/api/admin",e)},V=function(e){return E.a.delete("/api/admin",{params:e})},T={login:F,register:I,loadInfo:U,list:N,update:A,remove:V},H=function(e){return E.a.post("/api/category",e)},L=function(e){return E.a.delete("/api/category",{params:e})},B=function(e){return E.a.put("/api/category",e)},z=function(e){return E.a.get("/api/category/sub",{params:e})},q={add:H,remove:L,update:B,load:z},G=function(e){return E.a.post("/api/admin/goods",e)},J=function(e){return E.a.delete("/api/admin/goods",{params:e})},Z=function(e){return E.a.put("/api/admin/goods",e)},K=function(e){return E.a.get("/api/admin/goods/list",{params:e})},Q=function(e){return E.a.get("/api/admin/goods",{params:e})},W={release:G,remove:J,update:Z,list:K,getDetail:Q},X=function(e){return E.a.get("/api/role/list",{params:e})},Y=function(e){return E.a.post("/api/role/add",e)},ee=function(e){return E.a.post("/api/role/delete",e)},te=function(e){return E.a.post("/api/role/update",e)},ae=function(e){return E.a.get("/api/role/config",{params:e})},re=function(e){return E.a.put("/api/role/menu",e)},ne=function(e){return E.a.delete("/api/role/menu",{params:e})},oe={load:X,add:Y,remove:ee,update:te,loadConfig:ae,putMenu:re,deleteMenu:ne},se=function(e){return E.a.get("/api/admin/order/list",{params:e})},ie={loadList:se},le=function(e){return E.a.delete("/api/upload",e)},ce={deleteImage:le},ue=function(e){return E.a.get("/api/menu/sub",{params:e})},de=function(e){return E.a.post("/api/menu/add",e)},pe=function(e){return E.a.post("/api/menu/update",e)},me=function(e){return E.a.post("/api/menu/delete",e)},fe=function(e){return E.a.get("/api/menu/tree",{params:e})},he={loadSub:ue,add:de,update:pe,remove:me,loadTree:fe},be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-box am-margin-bottom-lg"},[a("h3",{staticClass:"title"},[e._v(e._s(e.text))])])},ve=[],ge={name:"Title",props:["text"]},_e=ge,we=(a("cacb"),Object(l["a"])(_e,be,ve,!1,null,"6ebd1e8c",null)),ye=we.exports;function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(a,!0).forEach(function(t){Object(f["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Oe={name:"List",components:{Title:ye},data:function(){return{tableData:[],roles:[],headers:{Authorization:"Bearer ".concat(sessionStorage.token)},editModalShow:!1,form:{uid:"",nickname:"",sex:"男",tel:"",role:"",avatar:""}}},created:function(){this.loadList(),this.loadRole()},methods:{loadList:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.list();case 2:t=e.sent,a=t.status,r=t.data,a&&(r.forEach(function(e){e.uid=e.id}),this.tableData=r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadRole:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.load();case 2:t=e.sent,a=t.status,r=t.data,a&&(this.roles=r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),showEditModal:function(e){this.editModalShow=!0,this.form=e},showDeleteModal:function(e){var t=this;this.$confirm("此操作将永久删除该账户, 是否继续?",{type:"warning"}).then(Object(S["a"])(regeneratorRuntime.mark(function a(){var r,n;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,T.remove({id:e});case 2:r=a.sent,n=r.status,r.msg,n&&(t.$message.success("删除成功！"),t.loadList());case 6:case"end":return a.stop()}},a)}))).catch(function(){t.$message.info("已取消删除")})},updateInfo:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.update(ke({},this.form));case 2:t=e.sent,a=t.status,r=t.msg,a&&(this.editModalShow=!1,this.$message.success(r),this.loadList());case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},editUploadSuccess:function(e,t){this.form.avatar=e.src}}},Ce=Oe,je=(a("85a8"),Object(l["a"])(Ce,M,D,!1,null,"002441ad",null)),$e=je.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Title",{attrs:{text:"账户信息"}}),a("el-form",{attrs:{model:e.form,"label-position":"left"}},[a("el-form-item",{attrs:{label:"账户","label-width":"100px"}},[a("el-input",{attrs:{disabled:"","auto-complete":"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"昵称","label-width":"100px"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),a("el-form-item",{attrs:{label:"性别","label-width":"100px"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:"手机","label-width":"100px"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",e._n(t))},expression:"form.tel"}})],1),a("el-form-item",{attrs:{label:"权限","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择账户"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},e._l(e.roles,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"头像","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload/avatar/",headers:e.headers,"show-file-list":!1,"on-success":e.editUploadSuccess,"before-upload":e.beforeUpload}},[a("div",{staticClass:"el-upload"},[e.form.avatar?a("img",{staticClass:"avatar",attrs:{src:e.form.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1),a("el-button",{attrs:{type:"primary"},on:{click:e.updateInfo}},[e._v("修 改")])],1)],1)},Me=[];function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(a,!0).forEach(function(t){Object(f["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Re={components:{Title:ye},data:function(){return{headers:{Authorization:"Bearer ".concat(sessionStorage.token)},roles:[],form:{}}},created:function(){this.loadRole(),this.form=Se({},this.$store.state.User.userInfo)},methods:{loadRole:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.load();case 2:t=e.sent,a=t.status,r=t.data,a&&(this.roles=r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),updateInfo:function(){var e=this,t=this.form.role;this.$store.dispatch("User/Update",Se({},this.form)).then(function(a){a.status&&(sessionStorage.role=t,e.$message.success(a.msg))})},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},editUploadSuccess:function(e,t){this.form.avatar=e.src}}},Ee=Re,Fe=(a("4b76"),Object(l["a"])(Ee,Pe,Me,!1,null,"8d90202c",null)),Ie=Fe.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Title",{attrs:{text:"订单列表"}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"#",width:"50"}}),a("el-table-column",{attrs:{width:"600"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-table",{attrs:{data:t.row.goodsList}},[a("el-table-column",{attrs:{prop:"name",label:"商品",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"goods"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.row.img_md}})]),a("div",{staticClass:"name"},[a("span",[e._v(e._s(t.row.name))])])])]}}],null,!0)}),a("el-table-column",{attrs:{prop:"goods_price",label:"单价"}}),a("el-table-column",{attrs:{prop:"goods_num",label:"数量"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"payment",label:"付款总额"}}),a("el-table-column",{attrs:{prop:"create_time",sortable:"",label:"下单时间",width:"180"}}),a("el-table-column",{attrs:{prop:"status",sortable:"",label:"状态"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"}})]}}])})],1)],1)},Ne=[],Ae={components:{Title:ye},data:function(){return{tableData:[]}},created:function(){var e=this;ie.loadList({status:"all"}).then(function(t){t.status&&(t.data.forEach(function(e){e.create_time=new Date(e.create_time).toLocaleString()}),e.tableData=t.data)})},methods:{}},Ve=Ae,Te=(a("c0fc"),Object(l["a"])(Ve,Ue,Ne,!1,null,"4cb57cf3",null)),He=Te.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"container"},[a("el-header",[a("HeaderBar")],1),a("el-container",[a("LeftMenu"),a("el-main",[a("router-view")],1)],1)],1)},Be=[],ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"clearfix"},[r("img",{staticClass:"am-text-middle",attrs:{src:a("d742"),height:"40"}}),r("i",{staticClass:"el-icon-menu am-text-middle am-margin-left-xl",on:{click:e.collapseHandle}}),r("div",{staticClass:"pull-right"},[r("el-dropdown",{staticClass:"white",attrs:{trigger:"click"}},[r("span",{staticClass:"am-text-middle am-margin-right-sm"},[e._v("\n\t\t\t\t"+e._s(e.nickname)+"\n\t\t\t")]),r("img",{staticClass:"am-text-middle",attrs:{width:"20",src:e.avatar}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[e._v("消息")]),r("el-dropdown-item",[e._v("设置")]),r("el-dropdown-item",[e._v("退出")])],1)],1)],1)])},qe=[],Ge=a("2f62");function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(a,!0).forEach(function(t){Object(f["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ke={data:function(){return{}},created:function(){this.getUserInfo()},computed:Ze({},Object(Ge["b"])("User",["nickname","avatar"])),methods:{collapseHandle:function(){this.$store.commit("Menu/ToggleMenu")},getUserInfo:function(){this.$store.dispatch("User/LoadInfo",{uid:sessionStorage.uid})}}},Qe=Ke,We=(a("a396"),Object(l["a"])(Qe,ze,qe,!1,null,"7cb6e3b6",null)),Xe=We.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{attrs:{collapse:e.isCollapse,"default-openeds":["0"],"background-color":"#545c64",router:"","text-color":"#fff","active-text-color":"#ffd04b"}},e._l(e.menuTree,function(t,r){return a("el-submenu",{attrs:{index:r.toString()}},[a("template",{slot:"title"},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._l(t.children,function(t){return a("el-menu-item",{attrs:{index:t.path}},[e._v(e._s(t.name))])})],2)}),1)},et=[];function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function at(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(a,!0).forEach(function(t){Object(f["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var rt={computed:at({},Object(Ge["c"])({isCollapse:function(e){return e.Menu.isCollapse},menuTree:function(e){return e.Menu.tree}}),{},Object(Ge["b"])({role:"User/role"})),created:function(){this.loadMenuTree()},methods:{loadMenuTree:function(){this.$store.dispatch("Menu/LoadTree",{id:sessionStorage.role}).then(function(e){console.log(e)})}}},nt=rt,ot=Object(l["a"])(nt,Ye,et,!1,null,null,null),st=ot.exports,it={components:{HeaderBar:Xe,LeftMenu:st}},lt=it,ct=(a("ca9c"),Object(l["a"])(lt,Le,Be,!1,null,null,null)),ut=ct.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Title",{attrs:{text:"商品分类"}}),a("el-tree",{ref:"tree",attrs:{"default-expanded-keys":[1],lazy:"","node-key":"id",load:e.loadNode,props:e.defaultProps},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node,n=t.data;return a("div",{staticClass:"node-box"},[a("span",{staticClass:"node-name"},[e._v(e._s(r.label))]),a("span",{staticClass:"node-action"},[a("el-button",{attrs:{type:"text",size:"mini",disabled:1==n.id},on:{click:function(t){return t.stopPropagation(),e.openEditModal(r,n)}}},[e._v("\n\t\t\t\t\t\t编辑\n\t\t\t\t\t")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.openAddModal(r,n)}}},[e._v("\n\t\t\t\t\t\t添加\n\t\t\t\t\t")]),a("el-button",{attrs:{type:"text",size:"mini",disabled:1==n.id},on:{click:function(t){return t.stopPropagation(),e.openDeleteModal(r,n)}}},[e._v("\n\t\t\t\t\t\t删除\n\t\t\t\t\t")])],1)])}}])}),a("el-dialog",{attrs:{title:"编辑节点",visible:e.EditModalVisible},on:{"update:visible":function(t){e.EditModalVisible=t}}},[a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{staticClass:"photo-uploader",attrs:{action:"/api/upload/common/",headers:e.headers,"on-success":e.editUploadSuccess,"before-upload":e.beforeUpload,"show-file-list":!1}},[a("div",{staticClass:"el-upload"},[e.editForm.img?a("img",{staticClass:"photo",attrs:{src:e.editForm.img}}):a("i",{staticClass:"el-icon-plus photo-uploader-icon"})])])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.EditModalVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.UpdateNodeHandle}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"添加节点",visible:e.AddModalVisible},on:{"update:visible":function(t){e.AddModalVisible=t}}},[a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{staticClass:"photo-uploader",attrs:{action:"/api/upload/common/",headers:e.headers,"on-success":e.addUploadSuccess,"before-upload":e.beforeUpload,"show-file-list":!1}},[a("div",{staticClass:"el-upload"},[e.addForm.img?a("img",{staticClass:"photo",attrs:{src:e.addForm.img}}):a("i",{staticClass:"el-icon-plus photo-uploader-icon"})])])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.AddModalVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.AddNodeHandle}},[e._v("确 定")])],1)],1)],1)},pt=[];function mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mt(a,!0).forEach(function(t){Object(f["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ht={components:{Title:ye},data:function(){return{defaultProps:{label:"name"},headers:{Authorization:"Bearer ".concat(sessionStorage.token)},EditModalVisible:!1,editForm:{name:"",pId:"",img:""},AddModalVisible:!1,addForm:{name:"",pId:"",img:""},currentNodeData:"",currentNode:""}},methods:{loadNode:function(e,t){if(0===e.level)return t([{name:"全部分类",id:1,img:""}]);q.load({pId:e.data.id}).then(function(e){t(e.data)})},openEditModal:function(e,t){this.EditModalVisible=!0,this.editForm=ft({},t),this.currentNode=e},UpdateNodeHandle:function(){var e=this;q.update(ft({},this.editForm)).then(function(t){t.status&&(e.$message.success(t.msg),e.EditModalVisible=!1,e.currentNode.data=ft({},e.editForm))})},openAddModal:function(e,t){this.addForm.pId=t.id,this.AddModalVisible=!0,this.currentNodeData=t},AddNodeHandle:function(){var e=this;q.add(ft({},this.addForm)).then(function(t){if(t.status){e.$message.success(t.msg),e.AddModalVisible=!1;var a=e.currentNodeData,r=ft({},e.addForm,{},t.data);a.children||e.$set(a,"children",[]),a.children.push(r)}else e.$message.error(t.msg)})},openDeleteModal:function(e,t){var a=this;this.$msgbox({type:"warning",title:"",message:"此操作将永久删除该分类, 是否继续?"}).then(function(){q.remove({id:t.id}).then(function(t){t.status&&(e.remove(),a.$message.success("删除成功!"))})})},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},addUploadSuccess:function(e,t){this.addForm.img=e.src},editUploadSuccess:function(e,t){this.editForm.img=e.src}}},bt=ht,vt=(a("a687"),Object(l["a"])(bt,dt,pt,!1,null,"dc385c7e",null)),gt=vt.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Title",{attrs:{text:"商品列表"}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{fixed:"",label:"商品名称",width:"600"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"goods"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.row.img_md}})]),a("div",{staticClass:"name"},[a("span",[e._v(e._s(t.row.name))]),a("br"),a("span",[e._v("商品货号："+e._s(t.row.articleNo))])])])]}}])}),a("el-table-column",{attrs:{prop:"price",label:"价格"}}),a("el-table-column",{attrs:{prop:"inventory",label:"库存"}}),a("el-table-column",{attrs:{prop:"create_time",label:"发布时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"am-margin-right-sm",attrs:{to:{name:"GoodsEdit",params:{id:t.row.id}}}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"}})],1),a("el-button",{attrs:{icon:"el-icon-delete",plain:"",type:"danger"},on:{click:function(a){return e.showDeleteModal(t.row.id)}}})]}}])})],1)],1)},wt=[],yt={components:{Title:ye},data:function(){return{tableData:[]}},created:function(){this.loadGoodsList()},methods:{loadGoodsList:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W.list({pageSize:100});case 2:t=e.sent,a=t.status,r=t.data,a&&(r.forEach(function(e,t){e.create_time=new Date(e.create_time).toLocaleString()}),this.tableData=r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),showDeleteModal:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm("确定要删除该商品吗？删除之后无法恢复！！！",{type:"warning"}).then(Object(S["a"])(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W.remove({id:t});case 2:r=e.sent,n=r.status,r.msg,n&&(a.$message.success("删除成功！"),a.loadGoodsList());case 6:case"end":return e.stop()}},e)}))).catch(function(){a.$message.info("已取消删除")});case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},xt=yt,kt=(a("49ef"),Object(l["a"])(xt,_t,wt,!1,null,"d6da5d54",null)),Ot=kt.exports,Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Title",{attrs:{text:"发布新商品"}}),a("el-form",{ref:"form",attrs:{model:e.form,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品分类"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.cate_1st,callback:function(t){e.$set(e.form,"cate_1st",t)},expression:"form.cate_1st"}},e._l(e.cate_1st_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.cate_2nd,callback:function(t){e.$set(e.form,"cate_2nd",t)},expression:"form.cate_2nd"}},e._l(e.cate_2nd_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.cate_3rd,callback:function(t){e.$set(e.form,"cate_3rd",t)},expression:"form.cate_3rd"}},e._l(e.cate_3rd_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"商品名称"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品标题名称长度至少3个字符，最长200个汉字")])],1),a("el-form-item",{attrs:{label:"商品卖点"}},[a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.hotPoint,callback:function(t){e.$set(e.form,"hotPoint","string"===typeof t?t.trim():t)},expression:"form.hotPoint"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品卖点不能超过140个汉字")])],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",e._n("string"===typeof t?t.trim():t))},expression:"form.price"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，且不能高于市场价")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("此价格为商品实际销售价格，如果商品存在规格，改价格显示最低价格")])],1),a("el-form-item",{attrs:{label:"市场价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.marketPrice,callback:function(t){e.$set(e.form,"marketPrice",e._n("string"===typeof t?t.trim():t))},expression:"form.marketPrice"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，此价格仅为市场参考价，请根据实际情况认真填写")])],1),a("el-form-item",{attrs:{label:"成本价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.cost,callback:function(t){e.$set(e.form,"cost",e._n("string"===typeof t?t.trim():t))},expression:"form.cost"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，此价格为商户对所销售的商品的实际成本价进行备注记录，非必填选项，不会在前台销售页面中显示")])],1),a("el-form-item",{attrs:{label:"折扣"}},[a("el-col",{attrs:{span:3}},[a("el-input",{attrs:{readonly:""},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}},[a("template",{slot:"append"},[e._v("折")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("根据销售价与市场价比例自动生成不需要编辑")])],1),a("el-form-item",{attrs:{label:"商品库存"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.inventory,callback:function(t){e.$set(e.form,"inventory",e._n("string"===typeof t?t.trim():t))},expression:"form.inventory"}},[a("template",{slot:"append"},[e._v("件")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的整数")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("若启动了库存配置，则系统自动计算商品的总数，此处无需卖家填写")])],1),a("el-form-item",{attrs:{label:"商品货号"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.articleNo,callback:function(t){e.$set(e.form,"articleNo","string"===typeof t?t.trim():t)},expression:"form.articleNo"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品货号是商家管理商品的编号，买家不可见")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("最多输入20个字符，只支持输入中文、字母、数字、_、/、-和小数点")])],1),a("el-form-item",{attrs:{label:"商品主图"}},[a("el-upload",{attrs:{limit:1,"list-type":"picture-card",action:"/api/upload/goods/",headers:e.headers,"before-upload":e.handleBeforeUpload,"on-success":e.handleMainSuccess,"before-remove":e.handleMainBeforeRemove,"on-exceed":e.handleMainExceed,"on-error":e.handleError,"on-preview":e.handleCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸\n\t\t\t\t800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中")])],1),a("el-form-item",{attrs:{label:"商品轮播图"}},[a("el-upload",{attrs:{limit:6,"list-type":"picture-card",action:"/api/upload/slider/",headers:e.headers,"before-upload":e.handleBeforeUpload,"on-success":e.handleSliderSuccess,"on-exceed":e.handleSliderExceed,"before-remove":e.handleSliderBeforeRemove,"on-error":e.handleError,"on-preview":e.handleCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸\n\t\t\t\t800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中")])],1),a("div",{staticClass:"section-title"},[e._v("商品详情描述")]),a("el-form-item",{attrs:{label:"商品品牌"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:e.form.brand,callback:function(t){e.$set(e.form,"brand","string"===typeof t?t.trim():t)},expression:"form.brand"}})],1)],1),a("el-form-item",{attrs:{label:"商品描述"}},[a("div",{ref:"toolbar",staticClass:"w-e-toolbar"}),a("div",{ref:"editor",staticClass:"w-e-text-container"})]),a("div",{staticClass:"section-title"},[e._v("商品物流信息")]),a("el-form-item",{attrs:{label:"所在地"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1)],1),a("el-form-item",{attrs:{label:"运费"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.freight,callback:function(t){e.$set(e.form,"freight","string"===typeof t?t.trim():t)},expression:"form.freight"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("运费设为0，前台商品将显示免运费")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.releaseHandle}},[e._v("提交")])],1)],1),a("el-dialog",{attrs:{width:"30%",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},jt=[],$t=a("75fc"),Pt=(a("20d6"),a("1a0b")),Mt=a.n(Pt),Dt={components:{Title:ye},data:function(){return{dialogImageUrl:"",dialogVisible:!1,headers:{Authorization:"Bearer ".concat(sessionStorage.token)},form:{cate_1st:"",cate_2nd:"",cate_3rd:"",hotPoint:"",name:"",price:"",marketPrice:"",cost:"",discount:"",inventory:"",articleNo:"",img_lg:"",img_md:"",slider:"",brand:"",detail:"",freight:"0",province:"山东省",city:"青岛市",area:"城阳区"},cate_1st_options:[],cate_2nd_options:[],cate_3rd_options:[]}},computed:{discount:function(){var e=(this.form.price/this.form.marketPrice*10).toFixed(2);switch(this.form.discount=e,e){case"NaN":return"";case"Infinity":return"";default:return e}}},mounted:function(){var e=this,t=new Mt.a(this.$refs.toolbar,this.$refs.editor);t.customConfig.zIndex=100,t.customConfig.uploadImgServer="/api/upload/editor/",t.customConfig.uploadFileName="file",t.customConfig.uploadImgHeaders={Authorization:"Bearer ".concat(sessionStorage.token)},t.customConfig.onchange=function(t){e.form.detail=t},t.create()},created:function(){this.cateChangeHandle(1,"cate_1st")},watch:{"form.cate_1st":function(e,t){this.cateChangeHandle(e,"cate_2nd")},"form.cate_2nd":function(e,t){this.cateChangeHandle(e,"cate_3rd")}},methods:{cateChangeHandle:function(e,t){var a=this;if(!e)return!1;this.getOptions(e).then(function(e){if(a[t+"_options"]=e,0==e.length)return a.form[t]="",!1;a.form[t]=e[0].id})},getOptions:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t){var a,r,n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.load({pId:t});case 2:if(a=e.sent,r=a.status,n=a.data,o=a.msg,!r){e.next=10;break}return e.abrupt("return",Promise.resolve(n));case 10:this.$message.error(o);case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleMainSuccess:function(e,t,a){e.status&&(this.form.img_lg=e.lgImg,this.form.img_md=e.mdImg)},handleError:function(e,t,a){var r=e.status,n=e.message;switch(r){case 401:this.$message.error("错误:401,Token失效,请重新登录!");break;case 400:n=JSON.parse(n),this.$message.error("错误:400,".concat(n.msg));break;default:this.$message.error("错误:".concat(r,",").concat(n,"!"));break}},handleBeforeUpload:function(e){var t=/^image\/(jpe?g|png)$/,a=t.test(e.type),r=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&r},handleMainBeforeRemove:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t,a){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.deleteImage({src:"."+t.response.lgImg});case 3:return r=e.sent,e.next=6,ce.deleteImage({src:"."+t.response.mdImg});case 6:if(n=e.sent,!r.status||!n.status){e.next=13;break}return this.form.img_lg="",this.form.img_md="",e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),this.$message.error(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));function t(t,a){return e.apply(this,arguments)}return t}(),handleCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleMainExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleSliderSuccess:function(e,t,a){e.status&&(this.form.slider=this.convertFileList(a))},handleSliderExceed:function(e,t){this.$message.warning("当前限制选择 6 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleSliderBeforeRemove:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t,a){var r,n,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.deleteImage({src:"."+t.response.src});case 2:if(r=e.sent,n=r.status,!n){e.next=12;break}return o=a.findIndex(function(e){return e.url==t.response.src}),s=Object($t["a"])(a),s.splice(o,1),this.form.slider=this.convertFileList(s),e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),convertFileList:function(e){var t=[];return e.forEach(function(e,a){t.push(e.response.src)}),t.toString()},releaseHandle:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W.release(this.form);case 2:t=e.sent,a=t.status,a&&this.$message.success("发布商品成功！");case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},St=Dt,Rt=(a("ca0b"),Object(l["a"])(St,Ct,jt,!1,null,"4c63c771",null)),Et=Rt.exports,Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Title",{attrs:{text:"编辑商品"}}),a("el-form",{ref:"form",attrs:{model:e.form,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品分类"}},[a("el-select",{attrs:{placeholder:"请选择分类"},on:{change:e.cate_1st_handle},model:{value:e.form.cate_1st,callback:function(t){e.$set(e.form,"cate_1st",t)},expression:"form.cate_1st"}},e._l(e.cate_1st_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),a("el-select",{attrs:{placeholder:"请选择分类"},on:{change:e.cate_2nd_handle},model:{value:e.form.cate_2nd,callback:function(t){e.$set(e.form,"cate_2nd",t)},expression:"form.cate_2nd"}},e._l(e.cate_2nd_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.cate_3rd,callback:function(t){e.$set(e.form,"cate_3rd",t)},expression:"form.cate_3rd"}},e._l(e.cate_3rd_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"商品名称"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品标题名称长度至少3个字符，最长200个汉字")])],1),a("el-form-item",{attrs:{label:"商品卖点"}},[a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.hotPoint,callback:function(t){e.$set(e.form,"hotPoint","string"===typeof t?t.trim():t)},expression:"form.hotPoint"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品卖点不能超过140个汉字")])],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",e._n("string"===typeof t?t.trim():t))},expression:"form.price"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，且不能高于市场价")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("此价格为商品实际销售价格，如果商品存在规格，改价格显示最低价格")])],1),a("el-form-item",{attrs:{label:"市场价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.marketPrice,callback:function(t){e.$set(e.form,"marketPrice",e._n("string"===typeof t?t.trim():t))},expression:"form.marketPrice"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，此价格仅为市场参考价，请根据实际情况认真填写")])],1),a("el-form-item",{attrs:{label:"成本价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.cost,callback:function(t){e.$set(e.form,"cost",e._n("string"===typeof t?t.trim():t))},expression:"form.cost"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，此价格为商户对所销售的商品的实际成本价进行备注记录，非必填选项，不会在前台销售页面中显示")])],1),a("el-form-item",{attrs:{label:"折扣"}},[a("el-col",{attrs:{span:3}},[a("el-input",{attrs:{readonly:""},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}},[a("template",{slot:"append"},[e._v("折")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("根据销售价与市场价比例自动生成不需要编辑")])],1),a("el-form-item",{attrs:{label:"商品库存"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.inventory,callback:function(t){e.$set(e.form,"inventory",e._n("string"===typeof t?t.trim():t))},expression:"form.inventory"}},[a("template",{slot:"append"},[e._v("件")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的整数")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("若启动了库存配置，则系统自动计算商品的总数，此处无需卖家填写")])],1),a("el-form-item",{attrs:{label:"商品货号"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.articleNo,callback:function(t){e.$set(e.form,"articleNo","string"===typeof t?t.trim():t)},expression:"form.articleNo"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品货号是商家管理商品的编号，买家不可见")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("最多输入20个字符，只支持输入中文、字母、数字、_、/、-和小数点")])],1),a("el-form-item",{attrs:{label:"商品主图"}},[a("el-upload",{attrs:{limit:1,action:"/api/upload/goods/","file-list":e.mainFileList,headers:e.headers,"list-type":"picture-card","before-upload":e.handleBeforeUpload,"on-success":e.handleMainSuccess,"before-remove":e.handleMainBeforeRemove,"on-exceed":e.handleMainExceed,"on-error":e.handleError,"on-preview":e.handleCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("\n                上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸\n                800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中\n            ")])],1),a("el-form-item",{attrs:{label:"商品轮播图"}},[a("el-upload",{attrs:{limit:6,action:"/api/upload/slider/","file-list":e.sliderFileList,headers:e.headers,"list-type":"picture-card","before-upload":e.handleBeforeUpload,"on-success":e.handleSliderSuccess,"on-exceed":e.handleSliderExceed,"before-remove":e.handleSliderBeforeRemove,"on-error":e.handleError,"on-preview":e.handleCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("\n                上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸\n                800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中\n            ")])],1),a("div",{staticClass:"section-title"},[e._v("商品详情描述")]),a("el-form-item",{attrs:{label:"商品品牌"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:e.form.brand,callback:function(t){e.$set(e.form,"brand","string"===typeof t?t.trim():t)},expression:"form.brand"}})],1)],1),a("el-form-item",{attrs:{label:"商品描述"}},[a("div",{ref:"toolbar",staticClass:"w-e-toolbar"}),a("div",{ref:"editor",staticClass:"w-e-text-container"})]),a("div",{staticClass:"section-title"},[e._v("商品物流信息")]),a("el-form-item",{attrs:{label:"所在地"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1)],1),a("el-form-item",{attrs:{label:"运费"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.freight,callback:function(t){e.$set(e.form,"freight","string"===typeof t?t.trim():t)},expression:"form.freight"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("运费设为0，前台商品将显示免运费")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.editHandle}},[e._v("提交")])],1)],1),a("el-dialog",{attrs:{width:"30%",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},It=[],Ut=(a("28a5"),{props:["id"],components:{Title:ye},data:function(){return{dialogImageUrl:"",dialogVisible:!1,headers:{Authorization:"Bearer ".concat(sessionStorage.token)},form:{cate_1st:"",cate_2nd:"",cate_3rd:"",hotPoint:"",name:"",price:"",marketPrice:"",cost:"",discount:"",inventory:"",articleNo:"",img_lg:"",img_md:"",slider:"",brand:"",detail:"",freight:"0",province:"山东省",city:"青岛市",area:"城阳区"},cate_1st_options:[],cate_2nd_options:[],cate_3rd_options:[],mainFileList:[],sliderFileList:[]}},computed:{discount:function(){var e=(this.form.price/this.form.marketPrice*10).toFixed(2);switch(this.form.discount=e,e){case"NaN":return"";case"Infinity":return"";default:return e}}},mounted:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getDetail();case 2:t=e.sent,a=new Mt.a(this.$refs.toolbar,this.$refs.editor),a.customConfig.zIndex=100,a.customConfig.uploadImgServer="/api/upload/editor/",a.customConfig.uploadFileName="file",a.customConfig.uploadImgHeaders={Authorization:"Bearer ".concat(sessionStorage.token)},a.customConfig.onchange=function(e){o.form.detail=e},a.create(),a.txt.html(t.detail),this.cateChangeHandle(1,"cate_1st",!1),this.cateChangeHandle(t.cate_1st,"cate_2nd",!1),this.cateChangeHandle(t.cate_2nd,"cate_3rd",!1),t.img_md&&(this.mainFileList=[{name:"1.jpg",url:t.img_md}]),r=t.slider.split(","),n=r.map(function(e,t){var a={};return a.url=e,a.name=t+".jpg",a.response={src:e},a}),this.sliderFileList=n;case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getDetail:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W.getDetail({id:this.id});case 2:if(t=e.sent,a=t.status,r=t.data,!a){e.next=9;break}return this.form=r,this.form.id=this.id,e.abrupt("return",Promise.resolve(r));case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),cate_1st_handle:function(e){this.cateChangeHandle(e,"cate_2nd")},cate_2nd_handle:function(e){this.cateChangeHandle(e,"cate_3rd")},cateChangeHandle:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t,a){var r,n,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=!(o.length>2&&void 0!==o[2])||o[2],e.next=3,this.getOptions(t);case 3:if(n=e.sent,this[a+"_options"]=n,0!==n.length){e.next=8;break}return this.form[a]="",e.abrupt("return",!1);case 8:r&&(this.form[a]=n[0].id);case 9:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),getOptions:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t){var a,r,n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.load({pId:t});case 2:if(a=e.sent,r=a.status,n=a.data,o=a.msg,!r){e.next=10;break}return e.abrupt("return",Promise.resolve(n));case 10:this.$message.error(o);case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleMainSuccess:function(e,t,a){e.status&&(this.form.img_lg=e.lgImg,this.form.img_md=e.mdImg)},handleError:function(e,t,a){var r=e.status,n=e.message;switch(r){case 401:this.$message.error("错误:401,Token失效,请重新登录!");break;case 400:n=JSON.parse(n),this.$message.error("错误:400,".concat(n.msg));break;default:this.$message.error("错误:".concat(r,",").concat(n,"!"));break}},handleBeforeUpload:function(e){var t=/^image\/(jpe?g|png)$/,a=t.test(e.type),r=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&r},handleMainBeforeRemove:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t,a){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.deleteImage({src:"."+this.form.img_lg});case 3:return r=e.sent,e.next=6,ce.deleteImage({src:"."+this.form.img_md});case 6:if(n=e.sent,!r.status||!n.status){e.next=13;break}return this.form.img_lg="",this.form.img_md="",e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),this.$message.error(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));function t(t,a){return e.apply(this,arguments)}return t}(),handleCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleMainExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleSliderSuccess:function(e,t,a){e.status&&(this.form.slider=this.convertFileList(a))},handleSliderExceed:function(e,t){this.$message.warning("当前限制选择 6 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleSliderBeforeRemove:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t,a){var r,n,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.deleteImage({src:"."+t.response.src});case 2:if(r=e.sent,n=r.status,!n){e.next=12;break}return o=a.findIndex(function(e){return e.url==t.response.src}),s=Object($t["a"])(a),s.splice(o,1),this.form.slider=this.convertFileList(s),e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),convertFileList:function(e){var t=[];return e.forEach(function(e,a){t.push(e.response.src)}),t.toString()},editHandle:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W.update(this.form);case 2:t=e.sent,a=t.status,a&&this.$message.success("更新商品成功！");case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}}),Nt=Ut,At=(a("2fd1"),Object(l["a"])(Nt,Ft,It,!1,null,"c937ffd0",null)),Vt=At.exports,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Title",{attrs:{text:"用户角色"}}),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[a("el-card",{staticClass:"role-card"},[a("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("角色列表")]),a("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.AddModalVisible=!0}}},[e._v("添加角色\n                    ")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"#"}}),a("el-table-column",{attrs:{label:"角色"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1===t.row.id?"danger":""}},[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:1===t.row.id,type:"primary",plain:"",icon:"el-icon-edit"},on:{click:function(a){return e.openEditModal(t.row)}}}),a("el-button",{attrs:{disabled:1===t.row.id,type:"danger",plain:"",icon:"el-icon-delete"},on:{click:function(a){return e.openDeleteModal(t.row.id)}}}),a("router-link",{staticClass:"am-margin-left-sm",attrs:{to:{name:"RoleConfig",params:{id:t.row.id}}}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-setting"}})],1)]}}])})],1)],1)],1),a("el-col",{attrs:{span:14}},[a("router-view")],1)],1),a("el-dialog",{attrs:{title:"添加角色",visible:e.AddModalVisible},on:{"update:visible":function(t){e.AddModalVisible=t}}},[a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.AddModalVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addRoleHandle}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑角色",visible:e.EditModalVisible},on:{"update:visible":function(t){e.EditModalVisible=t}}},[a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.EditModalVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateRoleHandle}},[e._v("确 定")])],1)],1)],1)},Ht=[];function Lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Bt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lt(a,!0).forEach(function(t){Object(f["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var zt={name:"Role",components:{Title:ye},data:function(){return{tableData:[],AddModalVisible:!1,addForm:{name:""},EditModalVisible:!1,editForm:{id:"",name:""}}},created:function(){this.loadRole()},methods:{loadRole:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.load();case 2:t=e.sent,a=t.status,r=t.data,a&&(this.tableData=r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addRoleHandle:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.add(Bt({},this.addForm));case 2:t=e.sent,a=t.status,a&&(this.loadRole(),this.AddModalVisible=!1);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),openEditModal:function(e){this.EditModalVisible=!0,this.editForm=Bt({},e)},updateRoleHandle:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.update(Bt({},this.editForm));case 2:t=e.sent,a=t.status,a&&(this.loadRole(),this.EditModalVisible=!1);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),openDeleteModal:function(e){var t=this;this.$msgbox({type:"warning",title:"",message:"此操作将永久删除该角色及其关联账户, 是否继续？",showCancelButton:!0}).then(Object(S["a"])(regeneratorRuntime.mark(function a(){var r,n;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,oe.remove({id:e});case 2:r=a.sent,n=r.status,n&&(t.loadRole(),t.$message.success("删除成功!"));case 5:case"end":return a.stop()}},a)})))}}},qt=zt,Gt=(a("7e08"),Object(l["a"])(qt,Tt,Ht,!1,null,"3520edfc",null)),Jt=Gt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Title",{attrs:{text:"菜单权限"}}),a("el-alert",{attrs:{title:"Tips",type:"warning",description:"设置后台管理系统的左侧菜单，目前至多支持两层菜单，三层以上菜单将不会显示。","show-icon":"",closable:!1}}),a("el-tree",{ref:"tree",staticClass:"am-margin-top-lg",attrs:{"default-expanded-keys":[1],lazy:"","node-key":"id",load:e.loadNode,props:e.defaultProps},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node,n=t.data;return a("div",{staticClass:"node-box"},[a("div",{staticClass:"node-name"},[e._v("\n                "+e._s(r.label)+"\n            ")]),a("div",{staticClass:"node-action"},[a("div",{staticClass:"node-order"},[e._v("显示序号：\n                    "),a("el-tag",{attrs:{size:"mini"}},[e._v(e._s(n.order))])],1),a("el-button",{attrs:{type:"text",icon:"el-icon-edit-outline",disabled:1==n.id},on:{click:function(t){return t.stopPropagation(),e.openEditModal(r,n)}}},[e._v("编辑\n                ")]),a("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:function(t){return t.stopPropagation(),e.openAddModal(r,n)}}},[e._v("添加\n                ")]),a("el-button",{attrs:{type:"text",icon:"el-icon-delete",disabled:1==n.id},on:{click:function(t){return t.stopPropagation(),e.openDeleteModal(r,n)}}},[e._v("删除\n                ")])],1)])}}])}),a("el-dialog",{attrs:{title:"编辑节点",visible:e.EditModalVisible},on:{"update:visible":function(t){e.EditModalVisible=t}}},[a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),a("el-form-item",{attrs:{label:"链接地址"}},[a("el-input",{attrs:{placeholder:"指定此菜单的链接地址，选填"},model:{value:e.editForm.path,callback:function(t){e.$set(e.editForm,"path",t)},expression:"editForm.path"}})],1),a("el-form-item",{attrs:{label:"显示顺序"}},[a("el-input",{attrs:{placeholder:"显示顺序按照数字从小到大，如2001"},model:{value:e.editForm.order,callback:function(t){e.$set(e.editForm,"order",t)},expression:"editForm.order"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.EditModalVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.UpdateNodeHandle}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"添加节点",visible:e.AddModalVisible},on:{"update:visible":function(t){e.AddModalVisible=t}}},[a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"链接地址"}},[a("el-input",{attrs:{placeholder:"指定此菜单的链接地址，选填"},model:{value:e.addForm.path,callback:function(t){e.$set(e.addForm,"path",t)},expression:"addForm.path"}})],1),a("el-form-item",{attrs:{label:"显示顺序"}},[a("el-input",{attrs:{placeholder:"显示顺序按照数字从小到大，如2001"},model:{value:e.addForm.order,callback:function(t){e.$set(e.addForm,"order",t)},expression:"addForm.order"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.AddModalVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.AddNodeHandle}},[e._v("确 定")])],1)],1)],1)},Kt=[];function Qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qt(a,!0).forEach(function(t){Object(f["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Xt={name:"Menu",components:{Title:ye},data:function(){return{defaultProps:{label:"name"},EditModalVisible:!1,editForm:{name:"",pId:"",path:"",order:""},AddModalVisible:!1,addForm:{name:"",pId:"",path:"",order:""},currentNodeData:"",currentNode:""}},methods:{loadNode:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t,a){var r,n,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.level){e.next=6;break}return e.next=3,he.loadSub({pId:0});case 3:return r=e.sent,n=r.data,e.abrupt("return",a(n));case 6:return e.next=8,he.loadSub({pId:t.data.id});case 8:o=e.sent,s=o.data,a(s);case 11:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),openEditModal:function(e,t){this.EditModalVisible=!0,this.editForm=Wt({},t),this.currentNode=e},openAddModal:function(e,t){this.addForm.pId=t.id,this.AddModalVisible=!0,this.currentNodeData=t},openDeleteModal:function(e,t){var a=this;this.$msgbox({type:"warning",title:"",message:"此操作将永久删除该分类, 是否继续?"}).then(Object(S["a"])(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,he.remove({id:t.id});case 2:n=r.sent,o=n.status,o&&(e.remove(),a.$message.success("删除成功!"));case 5:case"end":return r.stop()}},r)})))},AddNodeHandle:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,he.add(Wt({},this.addForm));case 2:if(t=e.sent,a=t.status,r=t.msg,n=t.data,a){e.next=9;break}return this.$message.error(r),e.abrupt("return",!1);case 9:this.$message.success(r),this.AddModalVisible=!1,o=this.currentNodeData,s=Wt({},this.addForm,{},n),o.children||this.$set(o,"children",[]),o.children.push(s),this.addForm={name:"",pId:"",path:""};case 16:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),UpdateNodeHandle:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,he.update(Wt({},this.editForm));case 2:t=e.sent,a=t.status,r=t.msg,a&&(this.$message.success(r),this.EditModalVisible=!1,this.currentNode.data=Wt({},this.editForm));case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},Yt=Xt,ea=(a("bef8"),Object(l["a"])(Yt,Zt,Kt,!1,null,"28b200fc",null)),ta=ea.exports,aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.menu,function(t,r){return a("el-card",{staticClass:"am-margin-bottom-sm"},[a("div",{staticClass:"menu-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"menu-title am-text-sm"},[a("i",{staticClass:"el-icon-collection-tag"}),e._v("\n                "+e._s(t.name)+"\n            ")]),a("el-switch",{on:{change:function(a){return e.parentHandle(t)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}})],1),a("el-row",{attrs:{gutter:40}},e._l(t.children,function(r){return a("el-col",[a("div",{staticClass:"menu-box am-padding-vertical-xs"},[a("div",{staticClass:"am-text-xs"},[e._v(e._s(r.name))]),a("el-switch",{on:{change:function(a){return e.childHandle(r,t)}},model:{value:r.checked,callback:function(t){e.$set(r,"checked",t)},expression:"element.checked"}})],1)])}),1)],1)}),1)},ra=[],na={name:"Role-Setting",props:["id"],data:function(){return{menu:[]}},created:function(){this.loadRoleConfig()},watch:{$route:"loadRoleConfig"},methods:{loadRoleConfig:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.loadConfig({id:this.id});case 2:t=e.sent,a=t.status,r=t.data,a&&(this.menu=r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),parentHandle:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t){var a,r,n,o,s,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.checked,r=t.children,n=t.id,!a){e.next=8;break}return e.next=4,oe.putMenu({role_id:this.id,menu_id:n});case 4:o=e.sent,o.status,e.next=12;break;case 8:return e.next=10,oe.deleteMenu({role_id:this.id,menu_id:n});case 10:s=e.sent,s.status;case 12:r.forEach(function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.checked=a,!a){e.next=8;break}return e.next=4,oe.putMenu({role_id:i.id,menu_id:t.id});case 4:r=e.sent,r.status,e.next=12;break;case 8:return e.next=10,oe.deleteMenu({role_id:i.id,menu_id:t.id});case 10:n=e.sent,n.status;case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),childHandle:function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(t,a){var r,n,o,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=t.checked,n=t.id,o=a.children.reduce(function(e,t){return t.checked&&e++,e},0),e.t0=o,e.next=0===e.t0?5:1===e.t0?9:13;break;case 5:return e.next=7,oe.deleteMenu({role_id:this.id,menu_id:a.id});case 7:return a.checked=!1,e.abrupt("break",14);case 9:return e.next=11,oe.putMenu({role_id:this.id,menu_id:a.id});case 11:return a.checked=!0,e.abrupt("break",14);case 13:return e.abrupt("break",14);case 14:if(!r){e.next=21;break}return e.next=17,oe.putMenu({role_id:this.id,menu_id:n});case 17:s=e.sent,s.status,e.next=25;break;case 21:return e.next=23,oe.deleteMenu({role_id:this.id,menu_id:n});case 23:i=e.sent,i.status;case 25:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()}},oa=na,sa=(a("ca1e"),Object(l["a"])(oa,aa,ra,!1,null,"ca3fd69a",null)),ia=sa.exports;r["default"].use(d["a"]);var la=[{path:"/register",name:"UserRegister",component:P},{path:"/login/",name:"UserLogin",component:w,props:function(e){return e.query},alias:"/"},{path:"/goods",name:"Goods",component:ut,redirect:"/goods/list",meta:{requiredAuth:!0},children:[{path:"category",name:"GoodsCategory",component:gt,meta:{requiredAuth:!0}},{path:"list",name:"GoodsList",component:Ot,meta:{requiredAuth:!0}},{path:"release",name:"GoodsRelease",component:Et,meta:{requiredAuth:!0}},{path:"edit/:id",name:"GoodsEdit",component:Vt,props:!0,meta:{requiredAuth:!0}}]},{path:"/user",name:"User",component:ut,meta:{requiredAuth:!0},children:[{path:"list",name:"UserList",component:$e,meta:{requiredAuth:!0}},{path:"info",name:"UserInfo",component:Ie,meta:{requiredAuth:!0}}]},{path:"/auth",name:"Auth",component:ut,meta:{requiredAuth:!0},children:[{path:"menu",name:"AuthMenu",component:ta,meta:{requiredAuth:!0}},{path:"role",name:"AuthRole",component:Jt,meta:{requiredAuth:!0},children:[{path:"config/:id",name:"RoleConfig",component:ia,props:!0,meta:{requiredAuth:!0}}]}]},{path:"/order",name:"Index",component:ut,meta:{requiredAuth:!0},children:[{path:"list",name:"OrderList",component:He,meta:{requiredAuth:!0}}]}],ca=new d["a"]({routes:la});ca.beforeEach(function(e,t,a){if(e.matched.some(function(e){return e.meta.requiredAuth})){if(!sessionStorage.token)return void a({path:"/login",query:{redirect:e.fullPath}});a()}else a()});var ua=ca,da=function(e,t){var a=e.commit;e.state;return new Promise(function(e,r){T.login(t).then(function(t){t.status?(a("setUserInfo",t.data),e(t)):r(t)})})},pa=function(e,t){var a=e.commit;e.state;return new Promise(function(e,r){T.register(t).then(function(t){t.status?(a("setUserInfo",t.data),e(t)):r(t)})})},ma=function(e,t){var a=e.commit;e.state;return new Promise(function(e,r){T.loadInfo(t).then(function(t){t.status?(a("setUserInfo",t.data),e(t)):r(t)})})},fa=function(e,t){var a=e.commit;e.state;return new Promise(function(e,r){T.update(t).then(function(n){n.status?(a("setUserInfo",t),e(n)):r(n)})})},ha={Login:da,Register:pa,LoadInfo:ma,Update:fa},ba=function(e){return e.userInfo.role},va=function(e){return e.userInfo.nickname},ga=function(e){return e.userInfo.avatar},_a={role:ba,nickname:va,avatar:ga},wa=function(e,t){e.userInfo=t},ya={setUserInfo:wa},xa={userInfo:""},ka={namespaced:!0,state:xa,actions:ha,getters:_a,mutations:ya},Oa=function(e,t){var a=e.commit;e.state;return new Promise(function(e,r){he.loadTree(t).then(function(t){t.status?(a("StoreTree",t.data),e(t)):r(t)})})},Ca={LoadTree:Oa},ja={},$a=function(e,t){e.isCollapse=!e.isCollapse},Pa=function(e,t){e.tree=t},Ma={ToggleMenu:$a,StoreTree:Pa},Da={isCollapse:!1,tree:[]},Sa={namespaced:!0,state:Da,actions:Ca,getters:ja,mutations:Ma};r["default"].use(Ge["a"]);var Ra=new Ge["a"].Store({modules:{User:ka,Menu:Sa}}),Ea=a("5c96"),Fa=a.n(Ea);a("0fae");r["default"].use(Fa.a,{size:"small"});var Ia,Ua=a("a7fe"),Na=a.n(Ua);E.a.interceptors.request.use(function(e){return Ia=Ea["Loading"].service({background:"rgba(0, 0, 0, 0.8)"}),"/api/admin/login"==e.url||"/api/admin/register"==e.url?e:(sessionStorage.token?e.headers.Authorization="Bearer ".concat(sessionStorage.token):Ea["Message"].error("token未获取，请登录！"),e)},function(e){return Promise.reject(e)}),E.a.interceptors.response.use(function(e){switch(setTimeout(function(){Ia.close()},500),e.status){case 200:return e.data;default:Ea["Message"].error(e.response.statusText);break}},function(e){return 401==e.response.status&&Ea["Message"].error("Token无效，请重新登录！"),Promise.reject(e)}),r["default"].use(Na.a,E.a),r["default"].config.productionTip=!1,new r["default"]({router:ua,store:Ra,render:function(e){return e(u)}}).$mount("#app")},5762:function(e,t,a){},"5c0b":function(e,t,a){"use strict";var r=a("5e27"),n=a.n(r);n.a},"5e27":function(e,t,a){},"5f9f":function(e,t,a){},"62f0":function(e,t,a){},"6b23":function(e,t,a){},"73e9":function(e,t,a){},"7e08":function(e,t,a){"use strict";var r=a("5202"),n=a.n(r);n.a},"82f3":function(e,t,a){},"85a8":function(e,t,a){"use strict";var r=a("2851"),n=a.n(r);n.a},"8d22":function(e,t,a){"use strict";var r=a("c269"),n=a.n(r);n.a},"976b":function(e,t,a){},"9a6a":function(e,t,a){"use strict";var r=a("22cc"),n=a.n(r);n.a},a396:function(e,t,a){"use strict";var r=a("82f3"),n=a.n(r);n.a},a687:function(e,t,a){"use strict";var r=a("c13c"),n=a.n(r);n.a},bef8:function(e,t,a){"use strict";var r=a("6b23"),n=a.n(r);n.a},c0fc:function(e,t,a){"use strict";var r=a("5762"),n=a.n(r);n.a},c13c:function(e,t,a){},c269:function(e,t,a){},ca0b:function(e,t,a){"use strict";var r=a("62f0"),n=a.n(r);n.a},ca1e:function(e,t,a){"use strict";var r=a("ce6f"),n=a.n(r);n.a},ca9c:function(e,t,a){"use strict";var r=a("2a56"),n=a.n(r);n.a},cacb:function(e,t,a){"use strict";var r=a("5f9f"),n=a.n(r);n.a},ce6f:function(e,t,a){},d742:function(e,t,a){e.exports=a.p+"img/logo.efe6a81a.png"}});
//# sourceMappingURL=app.0c2fe833.js.map