(function(e){function t(t){for(var o,r,s=t[0],n=t[1],c=t[2],m=0,p=[];m<s.length;m++)r=s[m],l[r]&&p.push(l[r][0]),l[r]=0;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],o=!0,s=1;s<a.length;s++){var n=a[s];0!==l[n]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var o={},l={app:0},i=[];function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=o,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/mall-admin/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],n=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=n;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var o=a("64a9"),l=a.n(o);l.a},1137:function(e,t,a){"use strict";var o=a("2892"),l=a.n(o);l.a},1267:function(e,t,a){},"1a8a":function(e,t,a){"use strict";var o=a("a544"),l=a.n(o);l.a},"288c":function(e,t,a){},2892:function(e,t,a){},"3bb2":function(e,t,a){"use strict";var o=a("1267"),l=a.n(o);l.a},"4f8b":function(e,t,a){},"4ffd":function(e,t,a){e.exports=a.p+"img/logo.efe6a81a.png"},"55ff":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var o=a("2b0e"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[a("navbar")],1),a("el-container",[a("leftMenu"),a("el-main",[a("router-view")],1)],1)],1)},i=[],r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"clearfix"},[o("img",{staticClass:"am-text-middle",attrs:{src:a("4ffd"),height:"40"}}),o("i",{staticClass:"el-icon-menu am-text-middle am-margin-left-xl"}),o("div",{staticClass:"pull-right"},[o("el-dropdown",[o("span",{staticClass:"am-text-middle"},[e._v("\n\t\t\t\t王小虎\n\t\t\t")]),o("img",{staticClass:"am-text-middle",attrs:{width:"20",src:a("ee0c")}}),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[e._v("消息")]),o("el-dropdown-item",[e._v("设置")]),o("el-dropdown-item",[e._v("退出")])],1)],1)],1)])},s=[],n=(a("1a8a"),a("2877")),c={},d=Object(n["a"])(c,r,s,!1,null,null,null);d.options.__file="navbar.vue";var m=d.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{attrs:{"background-color":"#545c64",router:"","text-color":"#fff","active-text-color":"#ffd04b","unique-opened":!0,"default-openeds":["2"]}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("客户管理")])]),a("el-menu-item-group",[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("客户")]),a("el-menu-item",{attrs:{index:"/customer/list"}},[e._v("客户列表")]),a("el-menu-item",{attrs:{index:"/customer/label"}},[e._v("客户标签")])],1),a("el-menu-item-group",{attrs:{title:"分组2"}},[a("el-menu-item",{attrs:{index:"1-3"}},[e._v("选项3")])],1),a("el-submenu",{attrs:{index:"1-4"}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("选项4")]),a("el-menu-item",{attrs:{index:"1-4-1"}},[e._v("选项1")])],1)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("商品管理")])]),a("el-menu-item",{attrs:{index:"/goods/category"}},[e._v("商品分类")]),a("el-menu-item",{attrs:{index:"/goods/release"}},[e._v("发布商品")]),a("el-menu-item",{attrs:{index:"/goods/list"}},[e._v("商品列表")])],2),a("el-menu-item",{attrs:{index:"3"}},[a("i",{staticClass:"el-icon-setting"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("员工管理")])])],1)},u=[],f=(a("1137"),{}),b=Object(n["a"])(f,p,u,!1,null,"7791b3c2",null);b.options.__file="leftMenu.vue";var v=b.exports,g={name:"App",components:{navbar:m,leftMenu:v}},h=g,_=(a("034f"),Object(n["a"])(h,l,i,!1,null,null,null));_.options.__file="App.vue";var x=_.exports,y=a("8c4f"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"clearfix am-margin-bottom-lg"},[e._m(0),a("div",{staticClass:"pull-right"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("活动管理")]),a("el-breadcrumb-item",[e._v("活动列表")]),a("el-breadcrumb-item",[e._v("活动详情")])],1)],1)]),a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleNew}},[e._v("新增")])],1)],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"tooltip-effect":"dark",data:e.tableData}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"name",sortable:"",label:"姓名",width:"120"}}),a("el-table-column",{attrs:{prop:"sex",sortable:"",label:"性别",width:"120"}}),a("el-table-column",{attrs:{prop:"age",sortable:"",label:"年龄",width:"120"}}),a("el-table-column",{attrs:{prop:"birthday",sortable:"",label:"生日",width:"140"}}),a("el-table-column",{attrs:{prop:"address",sortable:"",label:"地址"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:120}}),a("el-dialog",{attrs:{title:"新增客户",visible:e.adding},on:{"update:visible":function(t){e.adding=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"男"}}),a("el-radio",{attrs:{label:"女"}})],1)],1),a("el-form-item",{attrs:{label:"年龄",prop:"age"}},[a("el-radio-group",{model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}},[a("el-input",{attrs:{type:"age","auto-complete":"off"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",e._n(t))},expression:"form.age"}})],1)],1),a("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[a("el-radio-group",{model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.adding=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("提 交")])],1)],1),a("el-dialog",{attrs:{title:"编辑客户",visible:e.editing},on:{"update:visible":function(t){e.editing=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"男"}}),a("el-radio",{attrs:{label:"女"}})],1)],1),a("el-form-item",{attrs:{label:"年龄",prop:"age"}},[a("el-radio-group",{model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}},[a("el-input",{attrs:{type:"age","auto-complete":"off"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",e._n(t))},expression:"form.age"}})],1)],1),a("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[a("el-radio-group",{model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editing=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateForm("ruleForm")}}},[e._v("保 存")])],1)],1),a("el-dialog",{attrs:{title:"提示",visible:e.confirmVisible,width:"30%"},on:{"update:visible":function(t){e.confirmVisible=t}}},[a("span",[e._v("确认删除该记录吗?")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.confirmVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmDelete}},[e._v("确 定")])],1)])],1)},k=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pull-left"},[a("h3",{staticClass:"title"},[e._v("客户列表")])])}],w=(a("6c7b"),function(e){return o["default"].axios.post("/users/student",e)}),$={name:"list",data:function(){var e={name:"王小虎",sex:"男",age:30,birthday:"2016-05-02",address:"上海市普陀区金沙江路 1518 弄"};return{tableData:Array(10).fill(e),adding:!1,editing:!1,confirmVisible:!1,form:{name:"",sex:"",age:0,birthday:"",address:""},rules:{name:[{required:!0,message:"请输入客户姓名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],age:[{required:!0,message:"年龄不能为空"},{type:"integer",min:0,max:150,message:"年龄必须为0~150之间的正整数"}],birthday:[{required:!0,message:"请选择出生日期",trigger:"change"}],address:[{required:!0,message:"请填写具体地址",trigger:"blur"}]}}},methods:{handleNew:function(){this.adding=!0,this.form={}},handleEdit:function(e,t){this.editing=!0,this.form=t},handleDelete:function(e,t){this.confirmVisible=!0,console.log(e,t)},confirmDelete:function(){},updateForm:function(e){},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;w(t.form).then(function(e){e.data.status?(t.adding=!1,t.tableData.push(t.form)):alert(e.data.msg)})})}}},F=$,P=(a("f375"),Object(n["a"])(F,C,k,!1,null,"c54d5182",null));P.options.__file="list.vue";var S=P.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品分类"}},[a("el-select",{attrs:{change:e.cateChangeHandle(1,"cate_1st"),placeholder:"请选择分类"},model:{value:e.form.cate_1st,callback:function(t){e.$set(e.form,"cate_1st",t)},expression:"form.cate_1st"}},e._l(e.cate_1st_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),a("el-select",{attrs:{change:e.cateChangeHandle(e.form.cate_2nd,"cate_2nd"),placeholder:"请选择分类"},model:{value:e.form.cate_2nd,callback:function(t){e.$set(e.form,"cate_2nd",t)},expression:"form.cate_2nd"}},e._l(e.cate_2nd_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.cate_3rd,callback:function(t){e.$set(e.form,"cate_3rd",t)},expression:"form.cate_3rd"}},e._l(e.cate_3rd_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)},E=[],V={data:function(){return{form:{cate_1st:"",cate_2nd:"",cate_3rd:"",hotPoint:"",name:"",price:"",marketPrice:"",cost:"",discount:"0",inventory:"",articleNo:"",img_lg:"",img_md:"",slider:"",brand:"",detail:"",freight:"",province:"山东省",city:"青岛市",area:"城阳区"},cate_1st_options:[],cate_2nd_options:[],cate_3rd_options:[]}},created:function(){},methods:{cateChangeHandle:function(e,t){var a=this;if(!e)return!1;this.getOptions(e).then(function(e){if(a[t+"_options"]=e,0==e.length)return a.form[t]="",!1;a.form[t]=e[0].id})},getOptions:function(e){return this.axios.get("/api/category/sub/",{params:{pId:e}}).then(function(e){if(e.data.status)return Promise.resolve(e.data.data);this.$message.error(e.data.msg)})}}},M=V,I=(a("cbc2"),Object(n["a"])(M,j,E,!1,null,null,null));I.options.__file="label.vue";var N=I.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tree",{ref:"tree",attrs:{data:e.treeData,props:e.props,load:e.loadNode,lazy:"","node-key":"id"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.node,l=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(o.label))]),a("span",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){t.stopPropagation(),e.openEditForm(o,l)}}},[e._v("\n\t\t\t\t\t编辑\n\t\t\t\t")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){t.stopPropagation(),e.openAppendForm(o,l)}}},[e._v("\n\t\t\t\t\t添加\n\t\t\t\t")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){t.stopPropagation(),e.openDeleteConfirm(o,l)}}},[e._v("\n\t\t\t\t\t删除\n\t\t\t\t")])],1)])}}])}),a("el-dialog",{attrs:{title:"编辑节点",visible:e.editFormVisible},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{attrs:{model:e.editForm,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),a("el-form-item",{attrs:{label:"图片"}},[a("div",{staticClass:"upload-box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.editForm.src,expression:"editForm.src"}],staticClass:"preview"},[a("img",{attrs:{src:e.editForm.src,alt:""}}),a("i",{staticClass:"el-icon-delete",on:{click:function(t){e.deletePicHandle(e.editForm.src,"editForm")}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.editForm.src,expression:"!editForm.src"}],staticClass:"upload-button"},[a("i",{staticClass:"el-icon-plus"}),a("input",{attrs:{type:"file"},on:{change:function(t){e.uploadHandle(t,"editForm")}}})])])])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editNode}},[e._v("保 存")])],1)],1),a("el-dialog",{attrs:{title:"添加节点",visible:e.appendFormVisible},on:{"update:visible":function(t){e.appendFormVisible=t}}},[a("el-form",{attrs:{model:e.appendForm,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.appendForm.name,callback:function(t){e.$set(e.appendForm,"name",t)},expression:"appendForm.name"}})],1),a("el-form-item",{attrs:{label:"图片"}},[a("div",{staticClass:"upload-box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.appendForm.src,expression:"appendForm.src"}],staticClass:"preview"},[a("img",{attrs:{src:e.appendForm.src,alt:""}}),a("i",{staticClass:"el-icon-delete",on:{click:function(t){e.deletePicHandle(e.appendForm.src,"appendForm")}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.appendForm.src,expression:"!appendForm.src"}],staticClass:"upload-button"},[a("i",{staticClass:"el-icon-plus"}),a("input",{attrs:{type:"file"},on:{change:function(t){e.uploadHandle(t,"appendForm")}}})])])])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeAppendForm}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.appendNode}},[e._v("保 存")])],1)],1)],1)},O=[],H=(a("7f7f"),{data:function(){return{props:{label:"name",children:"zones"},treeData:[],editFormVisible:!1,editForm:{name:"",src:""},appendFormVisible:!1,appendForm:{name:"",src:""},nodeData:{}}},methods:{loadNode:function(e,t){var a=e.data.id;0==e.level&&(a=0),this.axios.get("/api/category/sub/",{params:{pId:a}}).then(function(e){e.data.status&&t(e.data.data)})},uploadHandle:function(e,t){var a=this,o=e.target.files[0],l=new FormData;l.append("file",o),this.axios.post("/api/upload/common/",l).then(function(o){0==o.data.errno&&(e.target.value="",a[t].src=o.data.data[0])})},deletePicHandle:function(e,t){var a=this;this.axios.post("/api/upload/delete/",{src:"."+e}).then(function(e){e.data.status&&(a[t].src="")})},openAppendForm:function(e,t){this.appendFormVisible=!0,this.nodeData=t},closeAppendForm:function(){this.appendFormVisible=!1,this.appendForm.name="",this.appendForm.src=""},appendNode:function(){var e=this,t={name:this.appendForm.name,pId:this.nodeData.id,level:this.nodeData.level+1,img:this.appendForm.src};this.axios.post("/api/category/add/",t).then(function(a){a.data.status?(t.id=a.data.data.id,e.$refs.tree.append(t,e.nodeData),e.closeAppendForm()):alert(a.data.msg)})},openEditForm:function(e,t){this.editForm.name=t.name,this.editForm.src=t.img,this.nodeData=t,this.editFormVisible=!0},editNode:function(){var e=this;this.axios.post("/api/category/update/",{id:this.nodeData.id,name:this.editForm.name,img:this.editForm.src}).then(function(t){t.data.status&&(e.nodeData.name=e.editForm.name,e.editFormVisible=!1)})},openDeleteConfirm:function(e,t){var a=this;this.$confirm("此操作将永久删除[".concat(t.name,"]分类, 是否继续?"),"提示",{type:"warning"}).then(function(){return a.axios.post("/api/category/delete/",{id:t.id})}).then(function(e){e.data.status?(a.$refs.tree.remove(t),a.$message({type:"success",message:"删除成功!"})):alert(e.data.msg)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}}}),z=H,B=(a("3bb2"),Object(n["a"])(z,D,O,!1,null,"06bb4cad",null));B.options.__file="category.vue";var U=B.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{fixed:"",label:"商品名称",width:"550"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"goods"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.row.img_md}})]),a("div",{staticClass:"name"},[a("span",[e._v(e._s(t.row.name))]),a("br"),a("span",[e._v("商品货号："+e._s(t.row.articleNo))])])])]}}])}),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"120"}}),a("el-table-column",{attrs:{prop:"inventory",label:"库存",width:"120"}}),a("el-table-column",{attrs:{prop:"create_time",label:"发布时间",width:"180"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"GoodsEdit",params:{id:t.row.id}}}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"}})],1),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",plain:"",size:"small"},nativeOn:{click:function(a){a.preventDefault(),e.deleteRow(t.row.id)}}})]}}])})],1),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("确定要删除该商品吗？删除之后无法恢复！！！")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])],1)},G=[],R=(a("ac6a"),{data:function(){return{dialogVisible:!1,tableData:[]}},created:function(){this.getGoodsList()},methods:{getGoodsList:function(){var e=this;this.axios.get("/api/goods/",{params:{pageSize:100}}).then(function(t){t.data.status&&(t.data.data.forEach(function(e,t){e.create_time=new Date(e.create_time).toLocaleString()}),e.tableData=t.data.data)})},deleteRow:function(e){this.dialogVisible=!0,console.log(e)}}}),A=R,q=(a("a4e7"),Object(n["a"])(A,L,G,!1,null,"341ac18a",null));q.options.__file="list.vue";var J=q.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"clearfix title-box am-margin-bottom-lg"},[e._m(0),a("div",{staticClass:"pull-right"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("发布商品")])],1)],1)]),a("el-form",{ref:"form",attrs:{model:e.form,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品分类"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.cate_1st,callback:function(t){e.$set(e.form,"cate_1st",t)},expression:"form.cate_1st"}},e._l(e.cate_1st_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.cate_2nd,callback:function(t){e.$set(e.form,"cate_2nd",t)},expression:"form.cate_2nd"}},e._l(e.cate_2nd_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.cate_3rd,callback:function(t){e.$set(e.form,"cate_3rd",t)},expression:"form.cate_3rd"}},e._l(e.cate_3rd_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),a("el-form-item",{attrs:{label:"商品名称"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品标题名称长度至少3个字符，最长200个汉字")])],1),a("el-form-item",{attrs:{label:"商品卖点"}},[a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.hotPoint,callback:function(t){e.$set(e.form,"hotPoint","string"===typeof t?t.trim():t)},expression:"form.hotPoint"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品卖点不能超过140个汉字")])],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",e._n("string"===typeof t?t.trim():t))},expression:"form.price"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，且不能高于市场价")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("此价格为商品实际销售价格，如果商品存在规格，改价格显示最低价格")])],1),a("el-form-item",{attrs:{label:"市场价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.marketPrice,callback:function(t){e.$set(e.form,"marketPrice",e._n("string"===typeof t?t.trim():t))},expression:"form.marketPrice"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，此价格仅为市场参考价，请根据实际情况认真填写")])],1),a("el-form-item",{attrs:{label:"成本价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.cost,callback:function(t){e.$set(e.form,"cost",e._n("string"===typeof t?t.trim():t))},expression:"form.cost"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，此价格为商户对所销售的商品的实际成本价进行备注记录，非必填选项，不会在前台销售页面中显示")])],1),a("el-form-item",{attrs:{label:"折扣"}},[a("el-col",{attrs:{span:3}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.discount,callback:function(t){e.$set(e.form,"discount",t)},expression:"form.discount"}},[a("template",{slot:"append"},[e._v("折")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("根据销售价与市场价比例自动生成不需要编辑")])],1),a("el-form-item",{attrs:{label:"商品库存"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.inventory,callback:function(t){e.$set(e.form,"inventory",e._n("string"===typeof t?t.trim():t))},expression:"form.inventory"}},[a("template",{slot:"append"},[e._v("件")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的整数")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("若启动了库存配置，则系统自动计算商品的总数，此处无需卖家填写")])],1),a("el-form-item",{attrs:{label:"商品货号"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.articleNo,callback:function(t){e.$set(e.form,"articleNo","string"===typeof t?t.trim():t)},expression:"form.articleNo"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品货号是商家管理商品的编号，买家不可见")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("最多输入20个字符，只支持输入中文、字母、数字、_、/、-和小数点")])],1),a("el-form-item",{attrs:{label:"商品主图"}},[a("el-upload",{attrs:{limit:1,"list-type":"picture-card","before-upload":e.handleBeforeUpload,"on-success":e.handleMainSuccess,"before-remove":e.handleMainBeforeRemove,"on-exceed":e.handleMainExceed,"on-error":e.handleError,"on-preview":e.handleCardPreview,action:"/api/upload/goods/"}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸 800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中")])],1),a("el-form-item",{attrs:{label:"商品轮播图"}},[a("el-upload",{attrs:{limit:6,"list-type":"picture-card","before-upload":e.handleBeforeUpload,"on-success":e.handleSliderSuccess,"on-exceed":e.handleSliderExceed,"before-remove":e.handleSliderBeforeRemove,"on-error":e.handleError,"on-preview":e.handleCardPreview,action:"/api/upload/slider/"}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸 800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中")])],1),a("div",{staticClass:"section-title"},[e._v("商品详情描述")]),a("el-form-item",{attrs:{label:"商品品牌"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:e.form.brand,callback:function(t){e.$set(e.form,"brand","string"===typeof t?t.trim():t)},expression:"form.brand"}})],1)],1),a("el-form-item",{attrs:{label:"商品描述"}},[a("div",{staticClass:"w-e-toolbar",attrs:{id:"toolbar"}}),a("div",{ref:"editor",staticClass:"w-e-text-container",attrs:{id:"editorZone"}})]),a("div",{staticClass:"section-title"},[e._v("商品物流信息")]),a("el-form-item",{attrs:{label:"所在地"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1)],1),a("el-form-item",{attrs:{label:"运费"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.freight,callback:function(t){e.$set(e.form,"freight","string"===typeof t?t.trim():t)},expression:"form.freight"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("运费设为0，前台商品将显示免运费")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.releaseHandle}},[e._v("提交")])],1)],1)],1)},Z=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pull-left"},[a("h3",{staticClass:"title"},[e._v("发布新商品")])])}],K=a("1a0b"),Q=a.n(K),W={data:function(){return{dialogImageUrl:"",dialogVisible:!1,form:{cate_1st:"",cate_2nd:"",cate_3rd:"",hotPoint:"",name:"",price:"",marketPrice:"",cost:"",discount:"0",inventory:"",articleNo:"",img_lg:"",img_md:"",slider:"",brand:"",detail:"",freight:"0",province:"山东省",city:"青岛市",area:"城阳区"},cate_1st_options:[],cate_2nd_options:[],cate_3rd_options:[]}},created:function(){this.cateChangeHandle(1,"cate_1st")},mounted:function(){var e=this,t=new Q.a("#toolbar","#editorZone");t.customConfig.zIndex=100,t.customConfig.uploadImgServer="/api/upload/common/",t.customConfig.uploadFileName="file",t.customConfig.onchange=function(t){e.form.detail=t},t.create()},watch:{"form.cate_1st":function(e,t){this.cateChangeHandle(e,"cate_2nd")},"form.cate_2nd":function(e,t){this.cateChangeHandle(e,"cate_3rd")}},methods:{cateChangeHandle:function(e,t){var a=this;if(!e)return!1;this.getOptions(e).then(function(e){if(a[t+"_options"]=e,0==e.length)return a.form[t]="",!1;a.form[t]=e[0].id})},getOptions:function(e){return this.axios.get("/api/category/sub/",{params:{pId:e}}).then(function(e){if(e.data.status)return Promise.resolve(e.data.data);this.$message.error(e.data.msg)})},handleMainSuccess:function(e,t,a){e.status&&(this.form.img_lg=e.lgImg,this.form.img_md=e.mdImg)},handleError:function(e,t,a){this.$message.error("错误："+e)},handleBeforeUpload:function(e){var t=/^image\/(jpe?g|png)$/,a=t.test(e.type),o=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),o||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&o},handleMainBeforeRemove:function(e,t){var a=this;e.response&&this.axios.post("/api/upload/delete/",{src:"."+e.response.lgImg}).then(function(t){if(t.status)return a.axios.post("/api/upload/delete/",{src:"."+e.response.mdImg})}).then(function(e){return!!e.status&&(a.form.img_lg="",a.form.img_md="",!0)})},handleCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleMainExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleSliderSuccess:function(e,t,a){e.status&&(this.form.slider=this.convertFileList(a))},handleSliderExceed:function(e,t){this.$message.warning("当前限制选择 6 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleSliderBeforeRemove:function(e,t){var a=this;e.response&&this.axios.post("/api/upload/delete/",{src:"."+e.response.src}).then(function(e){return!!e.status&&(a.form.slider=a.convertFileList(t),!0)})},convertFileList:function(e){var t=[];return e.forEach(function(e,a){t.push(e.response.src)}),t.toString()},releaseHandle:function(){var e=this;this.axios.post("/api/goods/release/",this.form).then(function(t){t.data.status&&(e.$router.go(0),e.$message({message:"发布商品成功！",type:"success"}))})}}},X=W,Y=(a("cd29"),Object(n["a"])(X,T,Z,!1,null,"0fe8b844",null));Y.options.__file="release.vue";var ee=Y.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"clearfix title-box am-margin-bottom-lg"},[e._m(0),a("div",{staticClass:"pull-right"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("发布商品")])],1)],1)]),a("el-form",{ref:"form",attrs:{model:e.form,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品分类"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.cate_1st,callback:function(t){e.$set(e.form,"cate_1st",t)},expression:"form.cate_1st"}},e._l(e.cate_1st_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.cate_2nd,callback:function(t){e.$set(e.form,"cate_2nd",t)},expression:"form.cate_2nd"}},e._l(e.cate_2nd_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.cate_3rd,callback:function(t){e.$set(e.form,"cate_3rd",t)},expression:"form.cate_3rd"}},e._l(e.cate_3rd_options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),a("el-form-item",{attrs:{label:"商品名称"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品标题名称长度至少3个字符，最长200个汉字")])],1),a("el-form-item",{attrs:{label:"商品卖点"}},[a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.hotPoint,callback:function(t){e.$set(e.form,"hotPoint","string"===typeof t?t.trim():t)},expression:"form.hotPoint"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品卖点不能超过140个汉字")])],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",e._n("string"===typeof t?t.trim():t))},expression:"form.price"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，且不能高于市场价")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("此价格为商品实际销售价格，如果商品存在规格，改价格显示最低价格")])],1),a("el-form-item",{attrs:{label:"市场价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.marketPrice,callback:function(t){e.$set(e.form,"marketPrice",e._n("string"===typeof t?t.trim():t))},expression:"form.marketPrice"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，此价格仅为市场参考价，请根据实际情况认真填写")])],1),a("el-form-item",{attrs:{label:"成本价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.cost,callback:function(t){e.$set(e.form,"cost",e._n("string"===typeof t?t.trim():t))},expression:"form.cost"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的数字，此价格为商户对所销售的商品的实际成本价进行备注记录，非必填选项，不会在前台销售页面中显示")])],1),a("el-form-item",{attrs:{label:"折扣"}},[a("el-col",{attrs:{span:3}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.discount,callback:function(t){e.$set(e.form,"discount",t)},expression:"form.discount"}},[a("template",{slot:"append"},[e._v("折")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("根据销售价与市场价比例自动生成不需要编辑")])],1),a("el-form-item",{attrs:{label:"商品库存"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.inventory,callback:function(t){e.$set(e.form,"inventory",e._n("string"===typeof t?t.trim():t))},expression:"form.inventory"}},[a("template",{slot:"append"},[e._v("件")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("价格必须是0-999999之间的整数")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("若启动了库存配置，则系统自动计算商品的总数，此处无需卖家填写")])],1),a("el-form-item",{attrs:{label:"商品货号"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.articleNo,callback:function(t){e.$set(e.form,"articleNo","string"===typeof t?t.trim():t)},expression:"form.articleNo"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("商品货号是商家管理商品的编号，买家不可见")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("最多输入20个字符，只支持输入中文、字母、数字、_、/、-和小数点")])],1),a("el-form-item",{attrs:{label:"商品主图"}},[a("el-upload",{attrs:{limit:1,"list-type":"picture-card","before-upload":e.handleBeforeUpload,"on-success":e.handleMainSuccess,"before-remove":e.handleMainBeforeRemove,"on-exceed":e.handleMainExceed,"on-error":e.handleError,"on-preview":e.handleCardPreview,action:"/api/upload/goods/"}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸 800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中")])],1),a("el-form-item",{attrs:{label:"商品轮播图"}},[a("el-upload",{attrs:{limit:6,"list-type":"picture-card","before-upload":e.handleBeforeUpload,"on-success":e.handleSliderSuccess,"on-exceed":e.handleSliderExceed,"before-remove":e.handleSliderBeforeRemove,"on-error":e.handleError,"on-preview":e.handleCardPreview,action:"/api/upload/slider/"}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸 800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中")])],1),a("div",{staticClass:"section-title"},[e._v("商品详情描述")]),a("el-form-item",{attrs:{label:"商品品牌"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:e.form.brand,callback:function(t){e.$set(e.form,"brand","string"===typeof t?t.trim():t)},expression:"form.brand"}})],1)],1),a("el-form-item",{attrs:{label:"商品描述"}},[a("div",{staticClass:"w-e-toolbar",attrs:{id:"toolbar"}}),a("div",{ref:"editor",staticClass:"w-e-text-container",attrs:{id:"editorZone"}})]),a("div",{staticClass:"section-title"},[e._v("商品物流信息")]),a("el-form-item",{attrs:{label:"所在地"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1)],1),a("el-form-item",{attrs:{label:"运费"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:e.form.freight,callback:function(t){e.$set(e.form,"freight","string"===typeof t?t.trim():t)},expression:"form.freight"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[e._v("运费设为0，前台商品将显示免运费")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.releaseHandle}},[e._v("提交")])],1)],1)],1)},ae=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pull-left"},[a("h3",{staticClass:"title"},[e._v("发布新商品")])])}],oe={data:function(){return{dialogImageUrl:"",dialogVisible:!1,form:{cate_1st:"",cate_2nd:"",cate_3rd:"",hotPoint:"",name:"",price:"",marketPrice:"",cost:"",discount:"0",inventory:"",articleNo:"",img_lg:"",img_md:"",slider:"",brand:"",detail:"",freight:"0",province:"山东省",city:"青岛市",area:"城阳区"},cate_1st_options:[],cate_2nd_options:[],cate_3rd_options:[]}},created:function(){this.cateChangeHandle(1,"cate_1st")},mounted:function(){var e=this,t=new Q.a("#toolbar","#editorZone");t.customConfig.zIndex=100,t.customConfig.uploadImgServer="/api/upload/common/",t.customConfig.uploadFileName="file",t.customConfig.onchange=function(t){e.form.detail=t},t.create()},watch:{"form.cate_1st":function(e,t){this.cateChangeHandle(e,"cate_2nd")},"form.cate_2nd":function(e,t){this.cateChangeHandle(e,"cate_3rd")}},methods:{cateChangeHandle:function(e,t){var a=this;if(!e)return!1;this.getOptions(e).then(function(e){if(a[t+"_options"]=e,0==e.length)return a.form[t]="",!1;a.form[t]=e[0].id})},getOptions:function(e){return this.axios.get("/api/category/sub/",{params:{pId:e}}).then(function(e){if(e.data.status)return Promise.resolve(e.data.data);this.$message.error(e.data.msg)})},handleMainSuccess:function(e,t,a){e.status&&(this.form.img_lg=e.lgImg,this.form.img_md=e.mdImg)},handleError:function(e,t,a){this.$message.error("错误："+e)},handleBeforeUpload:function(e){var t=/^image\/(jpe?g|png)$/,a=t.test(e.type),o=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),o||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&o},handleMainBeforeRemove:function(e,t){var a=this;e.response&&this.axios.post("/api/upload/delete/",{src:"."+e.response.lgImg}).then(function(t){if(t.status)return a.axios.post("/api/upload/delete/",{src:"."+e.response.mdImg})}).then(function(e){return!!e.status&&(a.form.img_lg="",a.form.img_md="",!0)})},handleCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleMainExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleSliderSuccess:function(e,t,a){e.status&&(this.form.slider=this.convertFileList(a))},handleSliderExceed:function(e,t){this.$message.warning("当前限制选择 6 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleSliderBeforeRemove:function(e,t){var a=this;e.response&&this.axios.post("/api/upload/delete/",{src:"."+e.response.src}).then(function(e){return!!e.status&&(a.form.slider=a.convertFileList(t),!0)})},convertFileList:function(e){var t=[];return e.forEach(function(e,a){t.push(e.response.src)}),t.toString()},releaseHandle:function(){var e=this;this.axios.post("/api/goods/release/",this.form).then(function(t){t.data.status&&(e.$router.go(0),e.$message({message:"发布商品成功！",type:"success"}))})}}},le=oe,ie=(a("a0ea"),Object(n["a"])(le,te,ae,!1,null,"dcae0112",null));ie.options.__file="edit.vue";var re=ie.exports;o["default"].use(y["a"]);var se=new y["a"]({routes:[{path:"/",name:"Customer",redirect:"/customer/list"},{path:"/customer/list",name:"CustomerList",component:S},{path:"/customer/label",name:"CustomerLabel",component:N},{path:"/goods/category",name:"GoodsCategory",component:U},{path:"/goods/list",name:"GoodsList",component:J},{path:"/goods/release",name:"GoodsRelease",component:ee},{path:"/goods/edit/:id",name:"GoodsEdit",component:re}]}),ne=a("2f62");o["default"].use(ne["a"]);var ce=new ne["a"].Store({state:{},mutations:{},actions:{}}),de=a("bc3a"),me=a.n(de),pe=a("a7fe"),ue=a.n(pe),fe=a("5c96"),be=a.n(fe);a("0fae");o["default"].use(ue.a,me.a),o["default"].use(be.a,{size:"small",zIndex:3e3}),o["default"].config.productionTip=!1,new o["default"]({router:se,store:ce,render:function(e){return e(x)}}).$mount("#app")},"64a9":function(e,t,a){},a0ea:function(e,t,a){"use strict";var o=a("4f8b"),l=a.n(o);l.a},a4e7:function(e,t,a){"use strict";var o=a("ab60"),l=a.n(o);l.a},a544:function(e,t,a){},ab60:function(e,t,a){},cbc2:function(e,t,a){"use strict";var o=a("55ff"),l=a.n(o);l.a},cd29:function(e,t,a){"use strict";var o=a("f353"),l=a.n(o);l.a},ee0c:function(e,t,a){e.exports=a.p+"img/avator_05.75dc3c28.png"},f353:function(e,t,a){},f375:function(e,t,a){"use strict";var o=a("288c"),l=a.n(o);l.a}});
//# sourceMappingURL=app.255d194a.js.map